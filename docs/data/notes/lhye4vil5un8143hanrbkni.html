<h1 id="memory-management"><a aria-hidden="true" class="anchor-heading icon-link" href="#memory-management"></a>Memory Management</h1>
<h2 id="虚拟内存"><a aria-hidden="true" class="anchor-heading icon-link" href="#虚拟内存"></a>虚拟内存</h2>
<h3 id="目标"><a aria-hidden="true" class="anchor-heading icon-link" href="#目标"></a>目标</h3>
<ul>
<li>透明</li>
<li>效率</li>
<li>保护</li>
</ul>
<h2 id="类型"><a aria-hidden="true" class="anchor-heading icon-link" href="#类型"></a>类型</h2>
<h3 id="栈内存"><a aria-hidden="true" class="anchor-heading icon-link" href="#栈内存"></a>栈内存</h3>
<h3 id="堆内存"><a aria-hidden="true" class="anchor-heading icon-link" href="#堆内存"></a>堆内存</h3>
<ul>
<li>malloc 调用</li>
<li>free 调用</li>
</ul>
<h3 id="错误"><a aria-hidden="true" class="anchor-heading icon-link" href="#错误"></a>错误</h3>
<ul>
<li>segment fault 忘记分配内存</li>
<li>buffer overflow 缓冲区溢出 安全风险</li>
<li>uninitialized read</li>
<li>memory leak 内存泄漏</li>
<li>dangling pointer 悬垂指针</li>
<li>double free 重复释放</li>
<li>invalid free 无效释放</li>
</ul>
<h2 id="内存管理"><a aria-hidden="true" class="anchor-heading icon-link" href="#内存管理"></a>内存管理</h2>
<h3 id="地址转换"><a aria-hidden="true" class="anchor-heading icon-link" href="#地址转换"></a>地址转换</h3>
<h4 id="dynamic-relocation-动态重定位"><a aria-hidden="true" class="anchor-heading icon-link" href="#dynamic-relocation-动态重定位"></a>dynamic relocation 动态重定位</h4>
<pre><code>physical address = virtual address + base
</code></pre>
<p><img src="https://res.weread.qq.com/wrepub/epub_30179184_52" alt="os-memory-management"></p>
<h3 id="分段"><a aria-hidden="true" class="anchor-heading icon-link" href="#分段"></a>分段</h3>
<h3 id="空闲空间管理"><a aria-hidden="true" class="anchor-heading icon-link" href="#空闲空间管理"></a>空闲空间管理</h3>
<ul>
<li>最优匹配</li>
<li>最差匹配</li>
<li>首次匹配</li>
<li>下次匹配</li>
</ul>
<p><a href="https://www.cnblogs.com/pengdonglin137/p/3878552.html">Linux 内存管理中的 slab 分配器 </a></p>
<h3 id="分页"><a aria-hidden="true" class="anchor-heading icon-link" href="#分页"></a>分页</h3>
<p><img src="https://res.weread.qq.com/wrepub/epub_30179184_85" alt="分页"></p>
<blockquote>
<h4 id="数据结构页表"><a aria-hidden="true" class="anchor-heading icon-link" href="#数据结构页表"></a>数据结构——页表</h4>
<p>现代操作系统的内存管理子系统中最重要的数据结构之一就是页表（page table）。通常，页表存储虚拟—物理地址转换（virtual-to-physical address translation），从而让系统知道地址空间的每个页实际驻留在物理内存中的哪个位置。由于每个地址空间都需要这种转换，因此一般来说，系统中每个进程都有一个页表。页表的确切结构要么由硬件（旧系统）确定，要么由 OS（现代系统）更灵活地管理。</p>
</blockquote>
<h4 id="交换空间"><a aria-hidden="true" class="anchor-heading icon-link" href="#交换空间"></a>交换空间</h4>